<% content_for :body_class, "family-show-bg" %>
<div class="container py-5">
  <h2 class="text-center mb-4 display-5 text-white"><%= @family.name %></h2>
  <% if @family.photo.attached? %>
    <div class="text-center mb-4">
      <%= cl_image_tag @family.photo.key, width: 100, height: 100, crop: :fill, alt: "family photo", class: "img-fluid rounded-3" %>
    </div>
  <% end %>
  <div class='d-flex overflow-scroll mb-3 gap-3'>
    <% @family.pets.each do |pet| %>
      <%= link_to pet_path(pet)  do %>
        <% if pet.photo.attached? %>
          <%= cl_image_tag pet.photo.key, class: "rounded-circle img-fluid", style: "object-fit: cover; width: 60px; height: 60px;" %>
        <% else %>
          <%= image_tag asset_path("default-avatar.jpg"), class: "rounded-circle img-fluid", style: "object-fit: cover; width: 60px; height: 60px;" %>
        <% end %>
      <% end %>
    <% end %>
  </div>
  <%= render "tasks/tasks", tasks: @tasks, family: @family %>
  <%= render "families/modal", tasks: @tasks, family: @family %>
  <div class="text-center mb-5">
    <%= link_to "Add Pet", new_family_pet_path(@family), class: "btn btn-success px-4 py-2" %>
  </div>
</div>
