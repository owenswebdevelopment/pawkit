<% content_for :body_class, "family-show-bg" %>
<div class="container py-4">
  <h2 class="d-flex justify-content-center text-center mb-4 display-5 text-black"><%= @family.name %></h2>
  <div class="text-center mb-4">
    <% if @family.photo.attached? %>
      <%= cl_image_tag @family.photo.key, width: 100, height: 100, crop: :fill, alt: "family photo", class: "img-fluid rounded-3" %>
    <% else %>
      <%= image_tag asset_path("default-family-avatar.jpg"), width: 100, height: 100, crop: :fill, alt: "family photo", class: "img-fluid rounded-3" %>
    <% end %>
  </div>
  <div class='d-flex <%= @family.pets.count < 4 ? 'justify-content-center' : '' %>  overflow-x-scroll mb-3 gap-3 pet-container '>
    <% @family.pets.each do |pet| %>
      <div class="text-center m-auto">
        <%= link_to pet_path(pet)  do %>
          <% if pet.photo.attached? %>
            <%= cl_image_tag pet.photo.key, class: "avatar-show rounded-circle img-fluid border border-3 border-light shadow", style: "object-fit: cover; width: 80px; height: 80px;" %>
          <% else %>
            <%= image_tag asset_path("default-avatar.jpg"), class: "avatar-show rounded-circle img-fluid border border-3 border-light shadow", style: "object-fit: cover; width: 80px; height: 80px;" %>
          <% end %>
        <% end %>
        <p class="mt-2"><%= pet.name.capitalize %></p>
      </div>
    <% end %>
  </div>
  <div class="text-center mb-5">
    <%= link_to "Add Pet", new_family_pet_path(@family), class: "btn btn-success px-4 py-2" %>
  </div>
  <%= render "tasks/tasks", tasks: @tasks, family: @family %>
  <%= render "families/modal", family: @family %>
</div>
